import{u as e,j as t,a as s}from"./index-BaWXG3YY.js";import{r}from"./vendor-D_DxLZN2.js";import{b as a,N as i,L as l,O as n}from"./router-BbFJyaaj.js";import{u as d,T as o,M as c,N as m,P as x}from"./useSidebar-CAHHH9Mf.js";import"./supabase-DnW1kxsT.js";import"./Card-CQri447u.js";const h=({variant:s="default",size:r="md",showLabel:a=!0,className:i=""})=>{const{theme:l,toggleTheme:n}=e(),d={sm:"w-10 h-6",md:"w-12 h-7",lg:"w-14 h-8"},o={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"};return"icon-only"===s?t.jsx("button",{onClick:n,className:`p-2 rounded-lg transition-all duration-300 hover:scale-105 ${"dark"===l?"bg-yellow-500/20 text-yellow-400 hover:bg-yellow-500/30":"bg-purple-500/20 text-purple-600 hover:bg-purple-500/30"} ${i}`,title:`Switch to ${"light"===l?"dark":"light"} mode`,children:t.jsx("i",{className:("dark"===l?"ri-sun-line":"ri-moon-line")+" text-lg"})}):"minimal"===s?t.jsxs("div",{className:`flex items-center space-x-3 ${i}`,children:[a&&t.jsxs("span",{className:"text-sm font-medium text-theme-text-secondary",children:["dark"===l?"Dark":"Light"," Mode"]}),t.jsx("button",{onClick:n,className:`relative inline-flex items-center rounded-full border-2 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-primary ${d[r]} ${"dark"===l?"bg-gradient-to-r from-purple-600 to-orange-500 border-transparent":"bg-gray-200 border-gray-300"}`,children:t.jsx("span",{className:`inline-block rounded-full bg-white shadow-lg transform transition-all duration-300 ${o[r]} ${"dark"===l?"translate-x-"+("sm"===r?"4":"md"===r?"5":"6"):"translate-x-1"}`,children:t.jsx("i",{className:"absolute inset-0 flex items-center justify-center text-xs "+("dark"===l?"text-orange-500 ri-moon-fill":"text-yellow-500 ri-sun-fill")})})})]}):t.jsxs("div",{className:`flex items-center justify-between p-4 bg-theme-card-bg border border-theme-card-border rounded-lg ${i}`,children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center "+("dark"===l?"bg-gradient-to-r from-purple-600 to-orange-500 text-white":"bg-gradient-to-r from-blue-500 to-purple-600 text-white"),children:t.jsx("i",{className:("dark"===l?"ri-moon-line":"ri-sun-line")+" text-lg"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-theme-text-primary",children:"Appearance"}),t.jsx("p",{className:"text-sm text-theme-text-secondary",children:"Switch between light and dark themes"})]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:"text-sm font-medium text-theme-text-secondary",children:"dark"===l?"Dark":"Light"}),t.jsx("button",{onClick:n,className:`relative inline-flex items-center rounded-full border-2 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-primary hover:scale-105 ${d[r]} ${"dark"===l?"bg-gradient-to-r from-purple-600 to-orange-500 border-transparent shadow-lg shadow-purple-500/30":"bg-gray-200 border-gray-300 hover:bg-gray-300"}`,children:t.jsx("span",{className:`inline-block rounded-full bg-white shadow-lg transform transition-all duration-300 ${o[r]} ${"dark"===l?"translate-x-"+("sm"===r?"4":"md"===r?"5":"6"):"translate-x-1"}`,children:t.jsx("i",{className:"absolute inset-0 flex items-center justify-center text-xs transition-all duration-300 "+("dark"===l?"text-orange-500 ri-moon-fill":"text-yellow-500 ri-sun-fill")})})})]})]})},f=[{name:"Dashboard",href:"/student/dashboard",icon:"ri-dashboard-line"},{name:"My Courses",href:"/student/my-courses",icon:"ri-book-line"},{name:"Continue Learning",href:"/student/continue",icon:"ri-play-circle-line"},{name:"Assessments",href:"/student/assessments",icon:"ri-file-list-line"},{name:"Code Playground",href:"/playground",icon:"ri-code-line"},{name:"Schedule",href:"/student/schedule",icon:"ri-calendar-line"},{name:"Resume Builder",href:"/student/resume-builder",icon:"ri-file-text-line"},{name:"Achievements",href:"/student/achievements",icon:"ri-trophy-line"},{name:"Job Placements",href:"/student/placements",icon:"ri-briefcase-line"},{name:"Discussions",href:"/student/discussions",icon:"ri-chat-3-line"}];function u(){var e,u;const[g,p]=r.useState(!1),[b,j]=r.useState(null),[v,N]=r.useState(!0),y=a(),{isCollapsed:w,toggleSidebar:k}=d("student-sidebar-collapsed");return r.useEffect(()=>{(async()=>{try{const e=await s.getCurrentUser();if("student"!==(null==e?void 0:e.role))throw new Error("Unauthorized");j(e)}catch(e){console.error("Auth check failed:",e)}finally{N(!1)}})()},[]),v?t.jsx("div",{className:"min-h-screen bg-theme-bg-secondary flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("i",{className:"ri-loader-4-line text-4xl text-brand-primary animate-spin mb-4"}),t.jsx("p",{className:"text-theme-text-secondary",children:"Loading..."})]})}):b?t.jsxs("div",{className:"min-h-screen bg-theme-bg-secondary overflow-x-hidden",children:[t.jsx("div",{className:"hidden lg:fixed lg:top-16 lg:bottom-0 lg:flex lg:flex-col transition-all duration-300 ease-in-out z-30 "+(w?"lg:w-16":"lg:w-64"),children:t.jsxs("div",{className:"flex flex-col flex-grow pt-5 bg-theme-card-bg border-r border-theme-border shadow-sm overflow-hidden overflow-x-hidden glass-dark",children:[t.jsx("div",{className:"px-3 mb-2 "+(w?"px-2":""),children:t.jsx("button",{onClick:k,className:"w-full flex items-center justify-center p-2 text-theme-text-secondary hover:text-brand-primary hover:bg-theme-hover-bg rounded-lg transition-all duration-200",children:t.jsx("i",{className:`ri-${w?"menu-unfold":"menu-fold"}-line text-lg flex justify-center items-center`})})}),t.jsxs("nav",{className:"mt-5 flex-1 flex flex-col divide-y divide-theme-border overflow-y-auto scrollbar-hide",children:[t.jsx("div",{className:"px-3 space-y-1 "+(w?"px-2":""),children:f.map(e=>{const s=y.pathname===e.href,r=t.jsxs(l,{to:e.href,className:`dashboard-nav-item flex items-center w-full px-3 py-2 text-sm font-medium rounded-lg transition-all duration-200 ${s?"bg-gradient-to-r from-purple-600 to-orange-500 text-white shadow-md":"text-theme-text-secondary hover:bg-theme-hover-bg hover:text-brand-primary"} ${w?"justify-center px-2":""}`,children:[t.jsx("i",{className:`${e.icon} text-lg flex-shrink-0 ${w?"flex justify-center items-center":"mr-3"}`}),t.jsx("span",{className:"truncate transition-all duration-300 "+(w?"opacity-0 w-0 overflow-hidden":"opacity-100"),children:e.name})]},e.name);return w?t.jsx("div",{className:"relative block",children:t.jsx(o,{content:e.name,position:"right",children:r})},e.name):t.jsx("div",{className:"relative block",children:r},e.name)})}),t.jsx("div",{className:"px-3 py-4 "+(w?"px-2":""),children:w?t.jsx(o,{content:"Toggle Theme",position:"right",children:t.jsx("div",{className:"flex justify-center",children:t.jsx(h,{variant:"icon-only"})})}):t.jsx(h,{variant:"minimal",size:"sm",showLabel:!0})})]}),t.jsx("div",{className:"flex-shrink-0 p-4 border-t border-theme-border "+(w?"px-2":""),children:t.jsxs("div",{className:"flex items-center "+(w?"justify-center":""),children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"rounded-full bg-gradient-to-r from-purple-600 to-orange-500 flex items-center justify-center text-white font-semibold transition-all duration-300 "+(w?"w-8 h-8 text-xs":"w-10 h-10 text-sm"),children:null==(e=b.name)?void 0:e.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)})}),t.jsxs("div",{className:"ml-3 flex-1 min-w-0 transition-all duration-300 "+(w?"opacity-0 w-0 overflow-hidden ml-0":"opacity-100"),children:[t.jsx("p",{className:"text-sm font-medium text-theme-text-primary truncate",children:b.name}),t.jsx("p",{className:"text-xs text-theme-text-tertiary truncate",children:"Student"})]})]})})]})}),t.jsx(c,{isOpen:g,onClose:()=>p(!1),title:"Navigation",children:t.jsxs("div",{className:"px-4 py-6",children:[t.jsx("div",{className:"mb-8",children:t.jsx(l,{to:"/",className:"flex items-center justify-center",children:t.jsx("img",{src:"https://static.readdy.ai/image/9a8f01f834659f0ab66072bb9b6ee657/94d4f47a77f88d2925bb5eae1005561d.png",alt:"DCODE Systems",className:"h-10 w-auto"})})}),t.jsx("nav",{className:"space-y-2",children:f.map(e=>{const s=y.pathname===e.href;return t.jsxs(l,{to:e.href,onClick:()=>p(!1),className:"flex items-center px-3 py-3 text-sm font-medium rounded-lg transition-all duration-200 "+(s?"bg-gradient-to-r from-purple-600 to-orange-500 text-white shadow-md":"text-theme-text-secondary hover:bg-theme-hover-bg hover:text-brand-primary"),children:[t.jsx("i",{className:`${e.icon} mr-3 text-lg flex-shrink-0`}),t.jsx("span",{children:e.name})]},e.name)})}),t.jsx("div",{className:"mt-8 pt-6 border-t border-theme-border",children:t.jsx(h,{variant:"default",size:"md"})}),t.jsx("div",{className:"mt-8 pt-6 border-t border-theme-border",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-purple-600 to-orange-500 flex items-center justify-center text-white font-semibold",children:null==(u=b.name)?void 0:u.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)})}),t.jsxs("div",{className:"ml-3",children:[t.jsx("p",{className:"text-base font-medium text-theme-text-primary",children:b.name}),t.jsx("p",{className:"text-sm text-theme-text-tertiary",children:"Student"})]})]})})]})}),t.jsxs("div",{className:"lg:flex lg:flex-col lg:flex-1 transition-all duration-300 overflow-x-hidden "+(w?"lg:pl-16":"lg:pl-64"),children:[t.jsxs("div",{className:"fixed top-0 left-0 right-0 z-40 flex h-16 flex-shrink-0 items-center gap-x-4 border-b border-theme-border bg-theme-card-bg/95 backdrop-blur-sm px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:pl-24 lg:pr-8",children:[t.jsxs("button",{type:"button",className:"p-2.5 text-theme-text-secondary lg:hidden hover:bg-theme-hover-bg rounded-lg transition-colors duration-200",onClick:()=>p(!0),children:[t.jsx("span",{className:"sr-only",children:"Open sidebar"}),t.jsx("i",{className:"ri-menu-line text-xl"})]}),t.jsx("div",{className:"flex-1 flex justify-center lg:hidden",children:t.jsx(l,{to:"/",className:"flex items-center",children:t.jsx("img",{src:"https://static.readdy.ai/image/9a8f01f834659f0ab66072bb9b6ee657/94d4f47a77f88d2925bb5eae1005561d.png",alt:"DCODE Systems",className:"h-8 w-auto"})})}),t.jsx("div",{className:"h-6 w-px bg-theme-border lg:hidden","aria-hidden":"true"}),t.jsx("div",{className:"hidden lg:flex items-center absolute left-0 top-0 h-16 px-4 z-50",children:t.jsx(l,{to:"/",className:"flex items-center",children:t.jsx("img",{src:"https://static.readdy.ai/image/9a8f01f834659f0ab66072bb9b6ee657/94d4f47a77f88d2925bb5eae1005561d.png",alt:"DCODE Systems",className:"h-10 w-auto"})})}),t.jsxs("div",{className:"hidden lg:flex flex-1 gap-x-4 self-stretch lg:gap-x-6",children:[t.jsx("div",{className:"flex flex-1"}),t.jsxs("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:[t.jsx(m,{children:t.jsxs("button",{type:"button",className:"-m-2.5 p-2.5 text-theme-text-tertiary hover:text-theme-text-secondary hover:bg-theme-hover-bg rounded-lg transition-colors duration-200",children:[t.jsx("span",{className:"sr-only",children:"View notifications"}),t.jsx("i",{className:"ri-notification-line text-xl"})]})}),t.jsx("div",{className:"hidden lg:block lg:h-6 lg:w-px lg:bg-theme-border","aria-hidden":"true"}),t.jsx(x,{user:b})]})]}),t.jsxs("div",{className:"lg:hidden flex items-center space-x-2",children:[t.jsx(h,{variant:"icon-only"}),t.jsx(x,{user:b})]})]}),t.jsx("main",{className:"flex-1 pt-16 pr-4 lg:pr-6 transition-all duration-300 "+(w?"lg:pl-4":"lg:pl-6"),children:t.jsx(n,{})})]})]}):t.jsx(i,{to:"/auth/signin",replace:!0})}export{u as default};
