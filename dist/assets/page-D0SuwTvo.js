import{j as e}from"./index-BaWXG3YY.js";import{r as s}from"./vendor-D_DxLZN2.js";import{L as a}from"./router-BbFJyaaj.js";import{C as t}from"./Card-CQri447u.js";import{D as r}from"./dataService-M2AFkWLp.js";import"./supabase-DnW1kxsT.js";const l=()=>{const[l,n]=s.useState(null),[i,c]=s.useState(!0),[d,m]=s.useState([]);return s.useEffect(()=>{(async()=>{var e,s,a;try{const[t,l,i]=await Promise.all([r.getAnalytics(),r.getEnrollments(),r.getCourses()]);n(t);const c=[],d=l.sort((e,s)=>new Date(s.enrolled_at).getTime()-new Date(e.enrolled_at).getTime()).slice(0,3);for(const a of d)c.push({type:"enrollment",message:`${(null==(e=a.student)?void 0:e.name)||"Student"} enrolled in ${(null==(s=a.course)?void 0:s.title)||"course"}`,timestamp:a.enrolled_at,icon:"ri-user-add-line",color:"green"});const x=i.sort((e,s)=>new Date(s.created_at).getTime()-new Date(e.created_at).getTime()).slice(0,2);for(const e of x)c.push({type:"course",message:`${(null==(a=e.instructor)?void 0:a.name)||"Instructor"} uploaded new course: ${e.title}`,timestamp:e.created_at,icon:"ri-book-line",color:"blue"});m(c.sort((e,s)=>new Date(s.timestamp).getTime()-new Date(e.timestamp).getTime()).slice(0,5))}catch(t){console.error("Error fetching dashboard data:",t)}finally{c(!1)}})()},[]),e.jsxs("div",{className:"dashboard-container",children:[e.jsxs("div",{className:"dashboard-header",children:[e.jsx("h1",{className:"heading-secondary text-gray-900",children:"Admin Dashboard"}),e.jsx("p",{className:"text-body text-gray-600",children:"Monitor and manage your educational platform"})]}),e.jsx("div",{className:"dashboard-section",children:e.jsxs("div",{className:"dashboard-grid",children:[e.jsx(t,{variant:"stats",className:"animate-fade-in-up",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-4 bg-blue-100 rounded-xl",children:e.jsx("i",{className:"ri-user-line text-2xl text-blue-600"})}),e.jsxs("div",{className:"ml-6",children:[e.jsx("p",{className:"text-caption text-gray-600",children:"Total Students"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i?"...":(null==l?void 0:l.activeUsers)||0}),e.jsxs("p",{className:"text-sm text-green-600 flex items-center mt-1",children:[e.jsx("i",{className:"ri-arrow-up-line mr-1"}),"Active users"]})]})]})}),e.jsx(t,{variant:"stats",className:"animate-fade-in-up animate-delay-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-4 bg-green-100 rounded-xl",children:e.jsx("i",{className:"ri-group-line text-2xl text-green-600"})}),e.jsxs("div",{className:"ml-6",children:[e.jsx("p",{className:"text-caption text-gray-600",children:"Active Mentors"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i?"...":(null==l?void 0:l.totalUsers)-(null==l?void 0:l.activeUsers)||0}),e.jsxs("p",{className:"text-sm text-green-600 flex items-center mt-1",children:[e.jsx("i",{className:"ri-arrow-up-line mr-1"}),"Platform mentors"]})]})]})}),e.jsx(t,{variant:"stats",className:"animate-fade-in-up animate-delay-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-4 bg-purple-100 rounded-xl",children:e.jsx("i",{className:"ri-book-line text-2xl text-purple-600"})}),e.jsxs("div",{className:"ml-6",children:[e.jsx("p",{className:"text-caption text-gray-600",children:"Total Courses"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i?"...":(null==l?void 0:l.totalCourses)||0}),e.jsxs("p",{className:"text-sm text-blue-600 flex items-center mt-1",children:[e.jsx("i",{className:"ri-arrow-up-line mr-1"}),"Available courses"]})]})]})}),e.jsx(t,{variant:"stats",className:"animate-fade-in-up animate-delay-300",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-4 bg-orange-100 rounded-xl",children:e.jsx("i",{className:"ri-money-dollar-circle-line text-2xl text-orange-600"})}),e.jsxs("div",{className:"ml-6",children:[e.jsx("p",{className:"text-caption text-gray-600",children:"Total Enrollments"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i?"...":(null==l?void 0:l.totalEnrollments)||0}),e.jsxs("p",{className:"text-sm text-green-600 flex items-center mt-1",children:[e.jsx("i",{className:"ri-arrow-up-line mr-1"}),"Student enrollments"]})]})]})})]})}),e.jsx("div",{className:"dashboard-section",children:e.jsxs(t,{variant:"dashboard",className:"animate-fade-in-up",children:[e.jsx("h2",{className:"heading-tertiary text-gray-900 mb-6",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(a,{to:"/admin/students",className:"interactive-element p-6 bg-blue-50 rounded-lg border border-blue-200 text-center hover:bg-blue-100 cursor-pointer",children:[e.jsx("i",{className:"ri-user-add-line text-3xl text-blue-600 mb-3"}),e.jsx("h3",{className:"font-medium text-gray-900",children:"Manage Students"}),e.jsx("p",{className:"text-sm text-gray-600",children:"View and manage student accounts"})]}),e.jsxs(a,{to:"/admin/mentors",className:"interactive-element p-6 bg-green-50 rounded-lg border border-green-200 text-center hover:bg-green-100 cursor-pointer",children:[e.jsx("i",{className:"ri-group-line text-3xl text-green-600 mb-3"}),e.jsx("h3",{className:"font-medium text-gray-900",children:"Mentor Approval"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Review mentor applications"})]}),e.jsxs(a,{to:"/admin/courses",className:"interactive-element p-6 bg-purple-50 rounded-lg border border-purple-200 text-center hover:bg-purple-100 cursor-pointer",children:[e.jsx("i",{className:"ri-book-line text-3xl text-purple-600 mb-3"}),e.jsx("h3",{className:"font-medium text-gray-900",children:"Course Management"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Oversee course content"})]}),e.jsxs(a,{to:"/admin/analytics",className:"interactive-element p-6 bg-orange-50 rounded-lg border border-orange-200 text-center hover:bg-orange-100 cursor-pointer",children:[e.jsx("i",{className:"ri-bar-chart-line text-3xl text-orange-600 mb-3"}),e.jsx("h3",{className:"font-medium text-gray-900",children:"View Analytics"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Platform performance insights"})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(t,{variant:"dashboard",className:"animate-fade-in-up",children:[e.jsx("h2",{className:"heading-tertiary text-gray-900 mb-6",children:"Recent Activity"}),e.jsx("div",{className:"space-y-6",children:i?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("i",{className:"ri-loader-4-line text-2xl text-gray-400 animate-spin"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Loading activity..."})]}):d.length>0?d.map((s,a)=>e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:`p-2 bg-${s.color}-100 rounded-full`,children:e.jsx("i",{className:`${s.icon} text-${s.color}-600`})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-900",children:s.message}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(s.timestamp).toLocaleString()})]})]},a)):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("i",{className:"ri-inbox-line text-2xl text-gray-400"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"No recent activity"})]})})]}),e.jsxs(t,{variant:"dashboard",className:"animate-fade-in-up animate-delay-100",children:[e.jsx("h2",{className:"heading-tertiary text-gray-900 mb-6",children:"System Status"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-3"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Server Status"})]}),e.jsx("span",{className:"text-sm text-green-600",children:"Operational"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-3"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Database"})]}),e.jsx("span",{className:"text-sm text-green-600",children:"Healthy"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full mr-3"}),e.jsx("span",{className:"font-medium text-gray-900",children:"API Response"})]}),e.jsx("span",{className:"text-sm text-yellow-600",children:"Slow (245ms)"})]})]})]})]})]})};export{l as default};
