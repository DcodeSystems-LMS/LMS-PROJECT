import{j as e,a as s}from"./index-BaWXG3YY.js";import{r}from"./vendor-D_DxLZN2.js";import{a,L as t}from"./router-BbFJyaaj.js";import{B as l}from"./Button-lmmCuxjA.js";import"./supabase-DnW1kxsT.js";const i=()=>{const[i,n]=r.useState(""),[o,d]=r.useState(""),[c,m]=r.useState(!1),[x,u]=r.useState(""),[b,g]=r.useState(""),[h,p]=r.useState(!1),[j,y]=r.useState(!1),[f,N]=r.useState(""),[v,w]=r.useState(!1),[S,k]=r.useState(""),E=a();return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(t,{to:"/",className:"inline-block mb-6",children:e.jsx("img",{src:"https://static.readdy.ai/image/9a8f01f834659f0ab66072bb9b6ee657/94d4f47a77f88d2925bb5eae1005561d.png",alt:"DCODE Systems",className:"h-12 w-auto mx-auto"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),e.jsx("p",{className:"text-gray-600",children:"Sign in to continue your learning journey"})]}),j?e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),w(!0),u(""),k("");try{await s.resetPassword(f),k("Password reset email sent! Check your inbox and spam folder."),setTimeout(()=>{y(!1),N(""),k("")},3e3)}catch(r){u(r instanceof Error?r.message:"Failed to send reset email")}finally{w(!1)}},className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Reset Your Password"}),e.jsx("p",{className:"text-gray-600",children:"Enter your email to receive a password reset link"})]}),x&&e.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg text-sm",children:[e.jsx("i",{className:"ri-error-warning-line mr-2"}),x]}),S&&e.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-800 px-4 py-3 rounded-lg text-sm",children:[e.jsx("i",{className:"ri-check-circle-line mr-2"}),S]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"resetEmail",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"resetEmail",type:"email",value:f,onChange:e=>N(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Enter your email",required:!0}),e.jsx("i",{className:"ri-mail-line absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{type:"submit",disabled:v,fullWidth:!0,className:"py-3 text-base font-semibold",children:v?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-loader-4-line animate-spin mr-2"}),"Sending Reset Link..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-send-plane-line mr-2"}),"Send Reset Link"]})}),e.jsxs(l,{type:"button",variant:"outline",onClick:()=>y(!1),fullWidth:!0,className:"py-3 text-base font-semibold",children:[e.jsx("i",{className:"ri-arrow-left-line mr-2"}),"Back to Sign In"]})]})]}):e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),m(!0),u(""),g("");try{const e=await s.signIn(i,o);g("Successfully signed in! Redirecting..."),setTimeout(()=>{"admin"===e.role?E("/admin/dashboard"):"mentor"===e.role?E("/mentor/dashboard"):E("/student/dashboard")},1500)}catch(r){u(r instanceof Error?r.message:"An error occurred during sign in")}finally{m(!1)}},className:"space-y-6",children:[x&&e.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg text-sm",children:[e.jsx("i",{className:"ri-error-warning-line mr-2"}),x]}),b&&e.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-800 px-4 py-3 rounded-lg text-sm",children:[e.jsx("i",{className:"ri-check-circle-line mr-2"}),b]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"email",type:"email",value:i,onChange:e=>n(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Enter your email",required:!0}),e.jsx("i",{className:"ri-mail-line absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",type:h?"text":"password",value:o,onChange:e=>d(e.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Enter your password",required:!0}),e.jsx("i",{className:"ri-lock-line absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("button",{type:"button",onClick:()=>p(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx("i",{className:h?"ri-eye-off-line":"ri-eye-line"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Remember me"})]}),e.jsx("button",{type:"button",onClick:()=>y(!0),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Forgot password?"})]}),e.jsx(l,{type:"submit",disabled:c,fullWidth:!0,className:"py-3 text-base font-semibold",children:c?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-loader-4-line animate-spin mr-2"}),"Signing In..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-login-circle-line mr-2"}),"Sign In"]})})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",e.jsx(t,{to:"/auth/signup",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Sign up here"})]})}),e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:e.jsx("div",{className:"text-center",children:e.jsx(t,{to:"/",className:"text-gray-500 hover:text-gray-700 text-sm",children:"‚Üê Back to Home"})})})]})})};export{i as default};
