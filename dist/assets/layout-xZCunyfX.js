import{u as e,j as s,a}from"./index-BaWXG3YY.js";import{r}from"./vendor-D_DxLZN2.js";import{b as t,N as l,L as i,O as n}from"./router-BbFJyaaj.js";import{u as o,T as d,M as c,N as m,P as x}from"./useSidebar-CAHHH9Mf.js";import"./supabase-DnW1kxsT.js";import"./Card-CQri447u.js";const h=[{name:"Dashboard",href:"/mentor/dashboard",icon:"ri-dashboard-line"},{name:"My Students",href:"/mentor/students",icon:"ri-group-line"},{name:"Student Discussions",href:"/mentor/discussions",icon:"ri-message-line"},{name:"Sessions",href:"/mentor/sessions",icon:"ri-calendar-check-line"},{name:"My Courses",href:"/mentor/courses",icon:"ri-book-open-line"},{name:"All Courses",href:"/mentor/all-courses",icon:"ri-book-2-line"},{name:"Upload Course",href:"/mentor/upload-course",icon:"ri-upload-cloud-line"},{name:"Course Materials",href:"/mentor/materials",icon:"ri-file-line"},{name:"Assessments",href:"/mentor/assessments",icon:"ri-file-list-line"},{name:"Feedback",href:"/mentor/feedback",icon:"ri-star-line"},{name:"Payments",href:"/mentor/payments",icon:"ri-money-dollar-circle-line"}];function f(){var f,g;const[p,u]=r.useState(!1),[j,b]=r.useState(null),[y,N]=r.useState(!0),v=t(),{isCollapsed:w,toggleSidebar:k}=o("mentor-sidebar-collapsed");return(s=>{const{theme:a,setTheme:t,setDarkModeEnabled:l}=e();r.useEffect(()=>{"mentor"===s&&(l(!1),console.log("ðŸŽ¨ useMentorTheme: Forced light mode for mentor"))},[s,l])})((null==j?void 0:j.role)||"mentor"),r.useEffect(()=>{(async()=>{try{const e=await a.getCurrentUser();if("mentor"!==(null==e?void 0:e.role))throw new Error("Unauthorized");b(e)}catch(e){console.error("Auth check failed:",e)}finally{N(!1)}})()},[]),y?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("i",{className:"ri-loader-4-line text-4xl text-brand-primary animate-spin mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):j?s.jsxs("div",{className:"min-h-screen bg-gray-50 overflow-x-hidden",children:[s.jsx("div",{className:"hidden lg:fixed lg:top-16 lg:bottom-0 lg:flex lg:flex-col transition-all duration-300 ease-in-out "+(w?"lg:w-16":"lg:w-64"),children:s.jsxs("div",{className:"flex flex-col flex-grow pt-5 bg-white border-r border-gray-200 shadow-sm overflow-hidden overflow-x-hidden",children:[s.jsx("div",{className:"px-3 mb-2 "+(w?"px-2":""),children:s.jsx("button",{onClick:k,className:"w-full flex items-center justify-center p-2 text-gray-600 hover:text-brand-primary hover:bg-gray-100 rounded-lg transition-all duration-200",children:s.jsx("i",{className:`ri-${w?"menu-unfold":"menu-fold"}-line text-lg flex justify-center items-center`})})}),s.jsx("nav",{className:"mt-5 flex-1 flex flex-col divide-y divide-gray-100 overflow-y-auto scrollbar-hide",children:s.jsx("div",{className:"px-3 space-y-1 "+(w?"px-2":""),children:h.map(e=>{const a=v.pathname===e.href,r=s.jsxs(i,{to:e.href,className:`dashboard-nav-item flex items-center w-full px-3 py-2 text-sm font-medium rounded-lg transition-all duration-200 ${a?"bg-gradient-to-r from-purple-600 to-orange-500 text-white shadow-md":"text-gray-700 hover:bg-gray-100 hover:text-brand-primary"} ${w?"justify-center px-2":""}`,children:[s.jsx("i",{className:`${e.icon} text-lg flex-shrink-0 ${w?"flex justify-center items-center":"mr-3"}`}),s.jsx("span",{className:"truncate transition-all duration-300 "+(w?"opacity-0 w-0 overflow-hidden":"opacity-100"),children:e.name})]},e.name);return w?s.jsx("div",{className:"relative block",children:s.jsx(d,{content:e.name,position:"right",children:r})},e.name):s.jsx("div",{className:"relative block",children:r},e.name)})})}),s.jsx("div",{className:"flex-shrink-0 p-4 border-t border-gray-200 "+(w?"px-2":""),children:s.jsxs("div",{className:"flex items-center "+(w?"justify-center":""),children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"rounded-full bg-gradient-to-r from-purple-600 to-orange-500 flex items-center justify-center text-white font-semibold transition-all duration-300 "+(w?"w-8 h-8 text-xs":"w-10 h-10 text-sm"),children:null==(f=j.name)?void 0:f.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)})}),s.jsxs("div",{className:"ml-3 flex-1 min-w-0 transition-all duration-300 "+(w?"opacity-0 w-0 overflow-hidden ml-0":"opacity-100"),children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:j.name}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:"Mentor"})]})]})})]})}),s.jsx(c,{isOpen:p,onClose:()=>u(!1),title:"Navigation",children:s.jsxs("div",{className:"px-4 py-6",children:[s.jsx("div",{className:"mb-8",children:s.jsx(i,{to:"/",className:"flex items-center justify-center",children:s.jsx("img",{src:"https://static.readdy.ai/image/9a8f01f834659f0ab66072bb9b6ee657/94d4f47a77f88d2925bb5eae1005561d.png",alt:"DCODE Systems",className:"h-10 w-auto"})})}),s.jsx("nav",{className:"space-y-2",children:h.map(e=>{const a=v.pathname===e.href;return s.jsxs(i,{to:e.href,onClick:()=>u(!1),className:"flex items-center px-3 py-3 text-sm font-medium rounded-lg transition-all duration-200 "+(a?"bg-gradient-to-r from-purple-600 to-orange-500 text-white shadow-md":"text-gray-700 hover:bg-gray-100 hover:text-brand-primary"),children:[s.jsx("i",{className:`${e.icon} mr-3 text-lg flex-shrink-0`}),s.jsx("span",{children:e.name})]},e.name)})}),s.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-purple-600 to-orange-500 flex items-center justify-center text-white font-semibold",children:null==(g=j.name)?void 0:g.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-base font-medium text-gray-900",children:j.name}),s.jsx("p",{className:"text-sm text-gray-500",children:"Mentor"})]})]})})]})}),s.jsxs("div",{className:"lg:flex lg:flex-col lg:flex-1 transition-all duration-300 overflow-x-hidden "+(w?"lg:pl-16":"lg:pl-64"),children:[s.jsxs("div",{className:"fixed top-0 left-0 right-0 z-40 flex h-16 flex-shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white/95 backdrop-blur-sm px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:pl-24 lg:pr-8",children:[s.jsxs("button",{type:"button",className:"p-2.5 text-gray-700 lg:hidden hover:bg-gray-100 rounded-lg transition-colors duration-200",onClick:()=>u(!0),children:[s.jsx("span",{className:"sr-only",children:"Open sidebar"}),s.jsx("i",{className:"ri-menu-line text-xl"})]}),s.jsx("div",{className:"flex-1 flex justify-center lg:hidden",children:s.jsx(i,{to:"/",className:"flex items-center",children:s.jsx("img",{src:"https://static.readdy.ai/image/9a8f01f834659f0ab66072bb9b6ee657/94d4f47a77f88d2925bb5eae1005561d.png",alt:"DCODE Systems",className:"h-8 w-auto"})})}),s.jsx("div",{className:"h-6 w-px bg-gray-200 lg:hidden","aria-hidden":"true"}),s.jsx("div",{className:"hidden lg:flex items-center absolute left-0 top-0 h-16 px-4 z-50",children:s.jsx(i,{to:"/",className:"flex items-center",children:s.jsx("img",{src:"https://static.readdy.ai/image/9a8f01f834659f0ab66072bb9b6ee657/94d4f47a77f88d2925bb5eae1005561d.png",alt:"DCODE Systems",className:"h-10 w-auto"})})}),s.jsxs("div",{className:"hidden lg:flex flex-1 gap-x-4 self-stretch lg:gap-x-6",children:[s.jsx("div",{className:"flex flex-1"}),s.jsxs("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:[s.jsx(m,{children:s.jsxs("button",{type:"button",className:"-m-2.5 p-2.5 text-gray-400 hover:text-gray-500 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:[s.jsx("span",{className:"sr-only",children:"View notifications"}),s.jsx("i",{className:"ri-notification-line text-xl"})]})}),s.jsx("div",{className:"hidden lg:block lg:h-6 lg:w-px lg:bg-gray-200","aria-hidden":"true"}),s.jsx(x,{user:j})]})]}),s.jsx("div",{className:"lg:hidden",children:s.jsx(x,{user:j})})]}),s.jsx("main",{className:"flex-1 pt-16 pr-4 lg:pr-6 transition-all duration-300 "+(w?"lg:pl-4":"lg:pl-6"),children:s.jsx(n,{})})]})]}):s.jsx(l,{to:"/auth/signin",replace:!0})}export{f as default};
