import{j as e}from"./index-tBdcIxzk.js";import{r as s}from"./vendor-D_DxLZN2.js";import{L as a}from"./router-BPhEMSNK.js";import{authService as r}from"./auth-CFgD0Kdo.js";import{B as t}from"./Button-q_HxaLrT.js";import{C as l}from"./Card-CCr5q94u.js";import"./supabase-BMSNwJ-5.js";import"./supabase-DCVaQTjR.js";const n=()=>{const[n,o]=s.useState(!1),[d,i]=s.useState(""),c=async(e,s)=>{o(!0),i("");try{await r.signIn(e,"password"),i(`Successfully logged in as ${s}!`),setTimeout(()=>{switch(s){case"student":window.location.href="/student/dashboard";break;case"mentor":window.location.href="/mentor/dashboard";break;case"admin":window.location.href="/admin/dashboard"}},1e3)}catch(a){i(`Login failed: ${a}`)}finally{o(!1)}},m=r.getCurrentUserSync();return e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsx("div",{className:"max-w-2xl mx-auto px-4",children:e.jsxs(l,{className:"p-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-center mb-8",children:"DCODE Auth Test"}),m&&e.jsxs("div",{className:"mb-8 p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-green-800",children:"Currently Logged In:"}),e.jsxs("p",{className:"text-green-700",children:["Name: ",m.name]}),e.jsxs("p",{className:"text-green-700",children:["Email: ",m.email]}),e.jsxs("p",{className:"text-green-700",children:["Role: ",m.role]})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Quick Login Options:"}),e.jsxs("div",{className:"grid gap-4",children:[e.jsx(t,{onClick:()=>c("student@example.com","student"),disabled:n,className:"w-full bg-blue-600 hover:bg-blue-700",children:"Login as Student"}),e.jsx(t,{onClick:()=>c("mentor@example.com","mentor"),disabled:n,className:"w-full bg-green-600 hover:bg-green-700",children:"Login as Mentor"}),e.jsx(t,{onClick:()=>c("admin@example.com","admin"),disabled:n,className:"w-full bg-purple-600 hover:bg-purple-700",children:"Login as Admin"}),e.jsx(t,{onClick:()=>{r.signOut(),i("Logged out successfully!")},variant:"outline",className:"w-full",children:"Logout"})]})]}),d&&e.jsx("div",{className:"p-4 rounded-lg mb-6 "+(d.includes("Successfully")||d.includes("Logged out")?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"),children:d}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("p",{className:"text-gray-600",children:"Test Credentials:"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Email: student@example.com, mentor@example.com, admin@example.com"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Password: password"})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsx(a,{to:"/",className:"text-blue-600 hover:text-blue-700",children:"‚Üê Back to Home"})})]})})})};export{n as default};
