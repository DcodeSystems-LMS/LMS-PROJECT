import{j as e}from"./index-tBdcIxzk.js";import{r as s}from"./vendor-D_DxLZN2.js";import{C as t}from"./Card-CCr5q94u.js";import{B as a}from"./Button-q_HxaLrT.js";import{T as r}from"./ThemeToggle-BjHrlrFT.js";import{authService as i}from"./auth-CFgD0Kdo.js";import{supabase as l}from"./supabase-DCVaQTjR.js";import"./router-BPhEMSNK.js";import"./supabase-BMSNwJ-5.js";const n=()=>{const[n,c]=s.useState(i.getCurrentUserSync()),[d,o]=s.useState("profile"),[m,x]=s.useState(!1),[h,u]=s.useState(""),[p,j]=s.useState(""),[b,f]=s.useState(!1),[g,v]=s.useState({emailNotifications:!0,pushNotifications:!0,courseUpdates:!0,assessmentReminders:!0,achievementAlerts:!0,marketingEmails:!1}),[y,N]=s.useState([{id:1,type:"course",title:"New Lesson Available",message:"Advanced React Development - State Management with Redux is now available",time:"2 hours ago",read:!1,actionLabel:"Start Lesson",actionUrl:"/student/course/1"},{id:2,type:"assessment",title:"Quiz Reminder",message:"JavaScript Fundamentals Quiz is due in 2 days",time:"4 hours ago",read:!1,actionLabel:"Take Quiz",actionUrl:"/student/assessments"},{id:3,type:"achievement",title:"Achievement Unlocked!",message:'You earned the "React Master" badge for completing 10 React lessons',time:"1 day ago",read:!1,actionLabel:"View Badge",actionUrl:"/student/achievements"},{id:4,type:"system",title:"Maintenance Notice",message:"Scheduled maintenance on Sunday 2-4 AM PST. Some features may be unavailable.",time:"1 day ago",read:!0},{id:5,type:"reminder",title:"Study Streak",message:"You are on a 7-day study streak! Keep it up to reach your goal.",time:"2 days ago",read:!0,actionLabel:"Continue Learning",actionUrl:"/student/continue"},{id:6,type:"course",title:"Course Update",message:"Node.js Backend Mastery has been updated with 3 new lessons",time:"3 days ago",read:!0,actionLabel:"View Updates",actionUrl:"/student/course/2"}]),k=y.filter(e=>!e.read).length,w=e=>{switch(e){case"course":return"ri-book-line";case"assessment":return"ri-question-line";case"achievement":return"ri-award-line";case"system":return"ri-settings-line";case"reminder":return"ri-alarm-line";default:return"ri-notification-line"}},S=e=>{switch(e){case"course":return"bg-blue-100 text-blue-600";case"assessment":return"bg-orange-100 text-orange-600";case"achievement":return"bg-purple-100 text-purple-600";case"system":default:return"bg-gray-100 text-gray-600";case"reminder":return"bg-green-100 text-green-600"}},C=e=>{N(s=>s.map(s=>s.id===e?{...s,read:!0}:s))},T=(e,s)=>{c(t=>t?{...t,[e]:s}:null)},A=()=>(null==n?void 0:n.name)&&n.name.split(" ")[0]||"",P=()=>(null==n?void 0:n.name)&&n.name.split(" ")[1]||"";return e.jsx("div",{className:"min-h-screen bg-theme-bg-secondary",children:e.jsxs("div",{className:"dashboard-container space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-theme-text-primary",children:"Settings"}),e.jsx("p",{className:"text-theme-text-secondary mt-1",children:"Manage your account preferences and notifications"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>f(!b),className:"-m-2.5 p-2.5 text-theme-text-tertiary hover:text-theme-text-secondary hover:bg-theme-hover-bg rounded-lg transition-colors duration-200 cursor-pointer",children:[e.jsx("span",{className:"sr-only",children:"View notifications"}),e.jsxs("div",{className:"relative",children:[e.jsx("i",{className:"ri-notification-line text-xl"}),k>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium",children:k>9?"9+":k})]})]}),b&&e.jsxs("div",{className:"absolute right-0 top-full mt-2 w-96 bg-theme-card-bg rounded-lg shadow-lg border border-theme-card-border z-50 glass-dark",children:[e.jsx("div",{className:"p-4 border-b border-theme-border",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-theme-text-primary",children:"Notifications"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[k>0&&e.jsx("button",{onClick:()=>{N(e=>e.map(e=>({...e,read:!0})))},className:"text-sm text-blue-600 hover:text-blue-700 cursor-pointer",children:"Mark all read"}),e.jsx("button",{onClick:()=>f(!1),className:"text-theme-text-tertiary hover:text-theme-text-secondary cursor-pointer",children:e.jsx("i",{className:"ri-close-line text-lg"})})]})]})}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:0===y.length?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-theme-hover-bg rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("i",{className:"ri-notification-off-line text-theme-text-tertiary text-xl"})}),e.jsx("p",{className:"text-theme-text-tertiary",children:"No notifications yet"})]}):e.jsx("div",{className:"divide-y divide-theme-border",children:y.map(s=>e.jsx("div",{className:"p-4 hover:bg-theme-hover-bg transition-colors "+(s.read?"":"bg-blue-50/50 dark:bg-blue-500/10"),children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${S(s.type)}`,children:e.jsx("i",{className:`${w(s.type)} text-sm`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-medium "+(s.read?"text-theme-text-secondary":"text-theme-text-primary"),children:s.title}),e.jsx("p",{className:"text-sm text-theme-text-secondary mt-1 line-clamp-2",children:s.message}),e.jsx("p",{className:"text-xs text-theme-text-tertiary mt-2",children:s.time})]}),e.jsxs("div",{className:"flex items-center space-x-1 ml-2",children:[!s.read&&e.jsx("button",{onClick:()=>C(s.id),className:"text-blue-600 hover:text-blue-700 cursor-pointer",title:"Mark as read",children:e.jsx("i",{className:"ri-check-line text-sm"})}),e.jsx("button",{onClick:()=>{return e=s.id,void N(s=>s.filter(s=>s.id!==e));var e},className:"text-theme-text-tertiary hover:text-red-500 cursor-pointer",title:"Delete notification",children:e.jsx("i",{className:"ri-close-line text-sm"})})]})]}),s.actionLabel&&e.jsx("div",{className:"mt-3",children:e.jsx("button",{onClick:()=>{C(s.id),f(!1),console.log("Navigate to:",s.actionUrl)},className:"text-sm bg-blue-100 text-blue-700 px-3 py-1 rounded-full hover:bg-blue-200 transition-colors cursor-pointer",children:s.actionLabel})})]})]})},s.id))})}),y.length>0&&e.jsx("div",{className:"p-3 border-t border-theme-border bg-theme-bg-tertiary",children:e.jsx("button",{onClick:()=>{N([]),f(!1)},className:"w-full text-sm text-theme-text-secondary hover:text-red-600 cursor-pointer",children:"Clear all notifications"})})]})]})]}),h&&e.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 text-green-800 dark:text-green-200 px-4 py-3 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("i",{className:"ri-checkbox-circle-line mr-2"}),h]})}),p&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 text-red-800 dark:text-red-200 px-4 py-3 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("i",{className:"ri-error-warning-line mr-2"}),p]})}),e.jsx("div",{className:"flex space-x-1 bg-theme-hover-bg p-1 rounded-lg w-fit",children:[{key:"profile",label:"Profile",icon:"ri-user-line"},{key:"notifications",label:"Notifications",icon:"ri-notification-line"},{key:"appearance",label:"Appearance",icon:"ri-palette-line"},{key:"privacy",label:"Privacy",icon:"ri-shield-line"},{key:"preferences",label:"Preferences",icon:"ri-settings-line"}].map(s=>e.jsxs("button",{onClick:()=>o(s.key),className:"flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors cursor-pointer whitespace-nowrap "+(d===s.key?"bg-theme-card-bg text-blue-600 shadow-sm":"text-theme-text-secondary hover:text-theme-text-primary"),children:[e.jsx("i",{className:`${s.icon} mr-2`}),s.label]},s.key))}),"profile"===d&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(t,{className:"text-center glass-dark",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gradient-to-r from-purple-600 to-orange-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-3xl font-bold text-white",children:(null==n?void 0:n.name)?n.name.charAt(0).toUpperCase():"U"})}),e.jsx("h3",{className:"text-lg font-semibold text-theme-text-primary mb-2",children:(null==n?void 0:n.name)||"User"}),e.jsx("p",{className:"text-theme-text-secondary mb-4",children:"Level 3 Student"}),e.jsxs(a,{variant:"outline",size:"sm",children:[e.jsx("i",{className:"ri-camera-line mr-2"}),"Change Avatar"]})]}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(t,{className:"glass-dark",children:[e.jsx("h2",{className:"text-lg font-semibold text-theme-text-primary mb-4",children:"Personal Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-text-primary mb-2",children:"First Name"}),e.jsx("input",{type:"text",value:A(),onChange:e=>T("name",e.target.value+" "+P()),className:"form-input w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-text-primary mb-2",children:"Last Name"}),e.jsx("input",{type:"text",value:P(),onChange:e=>T("name",A()+" "+e.target.value),className:"form-input w-full"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-text-primary mb-2",children:"Email"}),e.jsx("input",{type:"email",value:(null==n?void 0:n.email)||"",onChange:e=>T("email",e.target.value),className:"form-input w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-text-primary mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",placeholder:"+1 (555) 123-4567",className:"form-input w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-text-primary mb-2",children:"Bio"}),e.jsx("textarea",{rows:3,maxLength:500,placeholder:"Tell us about yourself...",className:"form-input w-full resize-none"}),e.jsx("div",{className:"text-xs text-theme-text-tertiary mt-1",children:"0/500 characters"})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx(a,{variant:"outline",children:"Cancel"}),e.jsx(a,{onClick:async()=>{if(n){x(!0),j(""),u("");try{const{error:e}=await l.from("users").update({name:n.name,email:n.email,updated_at:(new Date).toISOString()}).eq("id",n.id);if(e)throw e;u("Profile updated successfully!"),setTimeout(()=>u(""),3e3)}catch(e){j(e instanceof Error?e.message:"Failed to update profile"),setTimeout(()=>j(""),5e3)}finally{x(!1)}}},disabled:m,className:"interactive-element",children:m?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-loader-4-line animate-spin mr-2"}),"Saving..."]}):"Save Changes"})]})]})]})})]}),"notifications"===d&&e.jsxs(t,{className:"glass-dark",children:[e.jsx("h2",{className:"text-lg font-semibold text-theme-text-primary mb-4",children:"Notification Preferences"}),e.jsx("div",{className:"space-y-6",children:[{key:"emailNotifications",label:"Email Notifications",description:"Receive notifications via email"},{key:"pushNotifications",label:"Push Notifications",description:"Receive push notifications in browser"},{key:"courseUpdates",label:"Course Updates",description:"Get notified about new lessons and course changes"},{key:"assessmentReminders",label:"Assessment Reminders",description:"Reminders for upcoming quizzes and tests"},{key:"achievementAlerts",label:"Achievement Alerts",description:"Notifications when you earn badges or certificates"},{key:"marketingEmails",label:"Marketing Emails",description:"Promotional emails about new courses and features"}].map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-theme-hover-bg rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-theme-text-primary",children:s.label}),e.jsx("p",{className:"text-sm text-theme-text-secondary",children:s.description})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:g[s.key],onChange:e=>{return t=s.key,a=e.target.checked,void v(e=>({...e,[t]:a}));var t,a},className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 dark:bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},s.key))})]}),"appearance"===d&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(t,{className:"glass-dark",children:[e.jsx("h2",{className:"text-lg font-semibold text-theme-text-primary mb-4",children:"Theme Preferences"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(r,{variant:"default",size:"md"}),e.jsxs("div",{className:"p-4 bg-theme-hover-bg rounded-lg",children:[e.jsx("h3",{className:"font-medium text-theme-text-primary mb-2",children:"Theme Information"}),e.jsxs("div",{className:"space-y-2 text-sm text-theme-text-secondary",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Light Mode:"})," Clean, bright interface with subtle shadows and gradients"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Dark Mode:"})," Deep gradients with neon accents and glassmorphism effects"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Auto:"})," Follows your system preference"]})]})]})]})]}),e.jsxs(t,{className:"glass-dark",children:[e.jsx("h2",{className:"text-lg font-semibold text-theme-text-primary mb-4",children:"Display Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-text-primary mb-2",children:"Font Size"}),e.jsxs("select",{className:"form-input w-full pr-8",children:[e.jsx("option",{value:"small",children:"Small"}),e.jsx("option",{value:"medium",selected:!0,children:"Medium"}),e.jsx("option",{value:"large",children:"Large"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-text-primary mb-2",children:"Sidebar"}),e.jsxs("select",{className:"form-input w-full pr-8",children:[e.jsx("option",{value:"expanded",selected:!0,children:"Always Expanded"}),e.jsx("option",{value:"collapsed",children:"Always Collapsed"}),e.jsx("option",{value:"auto",children:"Auto (Remember Last State)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-text-primary mb-2",children:"Animation"}),e.jsxs("select",{className:"form-input w-full pr-8",children:[e.jsx("option",{value:"full",selected:!0,children:"Full Animations"}),e.jsx("option",{value:"reduced",children:"Reduced Motion"}),e.jsx("option",{value:"none",children:"No Animations"})]})]})]})]})]}),"privacy"===d&&e.jsxs(t,{className:"glass-dark",children:[e.jsx("h2",{className:"text-lg font-semibold text-theme-text-primary mb-4",children:"Privacy & Security"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-theme-hover-bg rounded-lg",children:[e.jsx("h3",{className:"font-medium text-theme-text-primary mb-2",children:"Change Password"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"password",placeholder:"Current password",className:"form-input w-full"}),e.jsx("input",{type:"password",placeholder:"New password",className:"form-input w-full"}),e.jsx("input",{type:"password",placeholder:"Confirm new password",className:"form-input w-full"}),e.jsx(a,{size:"sm",children:"Update Password"})]})]}),e.jsxs("div",{className:"p-4 bg-theme-hover-bg rounded-lg",children:[e.jsx("h3",{className:"font-medium text-theme-text-primary mb-2",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-theme-text-secondary mb-3",children:"Add an extra layer of security to your account"}),e.jsxs(a,{variant:"outline",size:"sm",children:[e.jsx("i",{className:"ri-shield-check-line mr-2"}),"Enable 2FA"]})]}),e.jsxs("div",{className:"p-4 bg-theme-hover-bg rounded-lg",children:[e.jsx("h3",{className:"font-medium text-theme-text-primary mb-2",children:"Data Privacy"}),e.jsx("p",{className:"text-sm text-theme-text-secondary mb-3",children:"Control how your data is used and shared"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(a,{variant:"outline",size:"sm",className:"mr-2",children:[e.jsx("i",{className:"ri-download-line mr-2"}),"Download My Data"]}),e.jsxs(a,{variant:"outline",size:"sm",className:"text-red-600 border-red-300 hover:bg-red-50 dark:hover:bg-red-900/20",children:[e.jsx("i",{className:"ri-delete-bin-line mr-2"}),"Delete Account"]})]})]})]})]}),"preferences"===d&&e.jsxs(t,{className:"glass-dark",children:[e.jsx("h2",{className:"text-lg font-semibold text-theme-text-primary mb-4",children:"Learning Preferences"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-text-primary mb-2",children:"Preferred Language"}),e.jsxs("select",{className:"form-input w-full pr-8",children:[e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"es",children:"Spanish"}),e.jsx("option",{value:"fr",children:"French"}),e.jsx("option",{value:"de",children:"German"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-text-primary mb-2",children:"Time Zone"}),e.jsxs("select",{className:"form-input w-full pr-8",children:[e.jsx("option",{value:"PST",children:"Pacific Standard Time (PST)"}),e.jsx("option",{value:"MST",children:"Mountain Standard Time (MST)"}),e.jsx("option",{value:"CST",children:"Central Standard Time (CST)"}),e.jsx("option",{value:"EST",children:"Eastern Standard Time (EST)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-text-primary mb-2",children:"Learning Goal"}),e.jsxs("select",{className:"form-input w-full pr-8",children:[e.jsx("option",{value:"career",children:"Career Change"}),e.jsx("option",{value:"skill",children:"Skill Enhancement"}),e.jsx("option",{value:"hobby",children:"Personal Interest"}),e.jsx("option",{value:"academic",children:"Academic Requirement"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-text-primary mb-2",children:"Daily Study Time Goal"}),e.jsxs("select",{className:"form-input w-full pr-8",children:[e.jsx("option",{value:"30",children:"30 minutes"}),e.jsx("option",{value:"60",children:"1 hour"}),e.jsx("option",{value:"120",children:"2 hours"}),e.jsx("option",{value:"180",children:"3+ hours"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(a,{children:"Save Preferences"})})]})]}),b&&e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>f(!1)})]})})};export{n as default};
