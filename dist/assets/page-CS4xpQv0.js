import{j as e}from"./index-tBdcIxzk.js";import{r as s}from"./vendor-D_DxLZN2.js";import{a as r,L as a}from"./router-BPhEMSNK.js";import{authService as t}from"./auth-CFgD0Kdo.js";import{B as l}from"./Button-q_HxaLrT.js";import"./supabase-BMSNwJ-5.js";import"./supabase-DCVaQTjR.js";const i=()=>{const[i,n]=s.useState({name:"",email:"",password:"",confirmPassword:""}),[o,c]=s.useState(!1),[d,m]=s.useState(""),[u,x]=s.useState(""),[b,h]=s.useState(!1),[p,f]=s.useState(!1),[g,y]=s.useState(!1),[j,N]=s.useState(!1),v=r(),w=e=>{n({...i,[e.target.name]:e.target.value})};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(a,{to:"/",className:"inline-block mb-6",children:e.jsx("img",{src:"https://static.readdy.ai/image/9a8f01f834659f0ab66072bb9b6ee657/94d4f47a77f88d2925bb5eae1005561d.png",alt:"DCODE Systems",className:"h-12 w-auto mx-auto"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create Account"}),e.jsx("p",{className:"text-gray-600",children:"Join DCODE and start your learning journey"})]}),e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),c(!0),m(""),x(""),i.password!==i.confirmPassword)return m("Passwords do not match"),void c(!1);if(i.password.length<8)return m("Password must be at least 8 characters long"),void c(!1);try{const e=await t.signUp(i.email,i.password,i.name);e.needsVerification?(x("Account created successfully! Please check your email and click the verification link to activate your account."),y(!0)):e.user&&(x("Account created successfully! Redirecting..."),setTimeout(()=>{v("/student/dashboard")},1500))}catch(s){m(s instanceof Error?s.message:"An error occurred during sign up")}finally{c(!1)}},className:"space-y-6",children:[d&&e.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg text-sm",children:[e.jsx("i",{className:"ri-error-warning-line mr-2"}),d]}),u&&e.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-800 px-4 py-3 rounded-lg text-sm",children:[e.jsx("i",{className:"ri-check-circle-line mr-2"}),u]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"name",name:"name",type:"text",value:i.name,onChange:w,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Enter your full name",required:!0}),e.jsx("i",{className:"ri-user-line absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"email",name:"email",type:"email",value:i.email,onChange:w,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Enter your email",required:!0}),e.jsx("i",{className:"ri-mail-line absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",name:"password",type:b?"text":"password",value:i.password,onChange:w,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Create a strong password",required:!0}),e.jsx("i",{className:"ri-lock-line absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("button",{type:"button",onClick:()=>h(!b),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx("i",{className:b?"ri-eye-off-line":"ri-eye-line"})})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Must be at least 8 characters long"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:p?"text":"password",value:i.confirmPassword,onChange:w,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Confirm your password",required:!0}),e.jsx("i",{className:"ri-lock-line absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("button",{type:"button",onClick:()=>f(!p),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx("i",{className:p?"ri-eye-off-line":"ri-eye-line"})})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"terms",name:"terms",type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",required:!0}),e.jsxs("label",{htmlFor:"terms",className:"ml-2 text-sm text-gray-600",children:["I agree to the"," ",e.jsx(a,{to:"/terms",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Terms of Service"})," ","and"," ",e.jsx(a,{to:"/privacy",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Privacy Policy"})]})]}),e.jsx(l,{type:"submit",disabled:o,fullWidth:!0,className:"py-3 text-base font-semibold",children:o?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-loader-4-line animate-spin mr-2"}),"Creating Account..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-user-add-line mr-2"}),"Create Account"]})})]}),g&&e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("p",{className:"text-sm text-blue-800 mb-3",children:"Didn't receive the verification email? Check your spam folder or resend it."}),e.jsx(l,{onClick:async()=>{N(!0),m("");try{await t.resendVerificationEmail(i.email),x("Verification email sent! Please check your inbox.")}catch(e){m(e instanceof Error?e.message:"Failed to resend verification email")}finally{N(!1)}},disabled:j,variant:"outline",fullWidth:!0,className:"py-2 text-sm",children:j?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-loader-4-line animate-spin mr-2"}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-mail-send-line mr-2"}),"Resend Verification Email"]})})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",e.jsx(a,{to:"/auth/signin",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Sign in here"})]})}),e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:e.jsx("div",{className:"text-center",children:e.jsx(a,{to:"/",className:"text-gray-500 hover:text-gray-700 text-sm",children:"‚Üê Back to Home"})})})]})})};export{i as default};
