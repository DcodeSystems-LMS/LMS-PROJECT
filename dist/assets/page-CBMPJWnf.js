import{u as e,j as s,a as t,s as a}from"./index-BaWXG3YY.js";import{r}from"./vendor-D_DxLZN2.js";import{C as i}from"./Card-CQri447u.js";import{B as l}from"./Button-lmmCuxjA.js";import"./router-BbFJyaaj.js";import"./supabase-DnW1kxsT.js";const n=({className:t="",showLabel:a=!0})=>{const{isDarkModeEnabled:r,setDarkModeEnabled:i,isUserAuthenticated:l}=e();return l?s.jsxs("div",{className:`flex items-center space-x-3 ${t}`,children:[a&&s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Dark Mode"}),s.jsx("button",{onClick:()=>{l&&i(!r)},className:`\n          relative inline-flex h-6 w-11 items-center rounded-full transition-colors\n          focus:outline-none focus:ring-2 focus:ring-brand-primary focus:ring-offset-2\n          ${r?"bg-brand-primary":"bg-gray-200 dark:bg-gray-700"}\n        `,role:"switch","aria-checked":r,"aria-label":"Toggle dark mode",children:s.jsx("span",{className:`\n            inline-block h-4 w-4 transform rounded-full bg-white transition-transform\n            ${r?"translate-x-6":"translate-x-1"}\n          `})}),a&&s.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:r?"Enabled":"Disabled"})]}):null},c=()=>{const[e,c]=r.useState(t.getCurrentUserSync()),[d,o]=r.useState("profile"),[m,x]=r.useState(!1),[h,u]=r.useState(""),[p,b]=r.useState(""),[j,f]=r.useState(!1),[g,v]=r.useState({emailNotifications:!0,pushNotifications:!0,courseUpdates:!0,assessmentReminders:!0,achievementAlerts:!0,marketingEmails:!1}),[y,N]=r.useState([{id:1,type:"course",title:"New Lesson Available",message:"Advanced React Development - State Management with Redux is now available",time:"2 hours ago",read:!1,actionLabel:"Start Lesson",actionUrl:"/student/course/1"},{id:2,type:"assessment",title:"Quiz Reminder",message:"JavaScript Fundamentals Quiz is due in 2 days",time:"4 hours ago",read:!1,actionLabel:"Take Quiz",actionUrl:"/student/assessments"},{id:3,type:"achievement",title:"Achievement Unlocked!",message:'You earned the "React Master" badge for completing 10 React lessons',time:"1 day ago",read:!1,actionLabel:"View Badge",actionUrl:"/student/achievements"},{id:4,type:"system",title:"Maintenance Notice",message:"Scheduled maintenance on Sunday 2-4 AM PST. Some features may be unavailable.",time:"1 day ago",read:!0},{id:5,type:"reminder",title:"Study Streak",message:"You are on a 7-day study streak! Keep it up to reach your goal.",time:"2 days ago",read:!0,actionLabel:"Continue Learning",actionUrl:"/student/continue"},{id:6,type:"course",title:"Course Update",message:"Node.js Backend Mastery has been updated with 3 new lessons",time:"3 days ago",read:!0,actionLabel:"View Updates",actionUrl:"/student/course/2"}]),k=y.filter(e=>!e.read).length,w=e=>{switch(e){case"course":return"ri-book-line";case"assessment":return"ri-question-line";case"achievement":return"ri-award-line";case"system":return"ri-settings-line";case"reminder":return"ri-alarm-line";default:return"ri-notification-line"}},S=e=>{switch(e){case"course":return"bg-blue-100 text-blue-600";case"assessment":return"bg-orange-100 text-orange-600";case"achievement":return"bg-purple-100 text-purple-600";case"system":default:return"bg-gray-100 text-gray-600";case"reminder":return"bg-green-100 text-green-600"}},C=e=>{N(s=>s.map(s=>s.id===e?{...s,read:!0}:s))},A=(e,s)=>{c(t=>t?{...t,[e]:s}:null)},T=()=>(null==e?void 0:e.name)&&e.name.split(" ")[0]||"",P=()=>(null==e?void 0:e.name)&&e.name.split(" ")[1]||"";return s.jsx("div",{className:"min-h-screen bg-theme-bg-secondary",children:s.jsxs("div",{className:"dashboard-container space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-theme-text-primary",children:"Settings"}),s.jsx("p",{className:"text-theme-text-secondary mt-1",children:"Manage your account preferences and notifications"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>f(!j),className:"-m-2.5 p-2.5 text-theme-text-tertiary hover:text-theme-text-secondary hover:bg-theme-hover-bg rounded-lg transition-colors duration-200 cursor-pointer",children:[s.jsx("span",{className:"sr-only",children:"View notifications"}),s.jsxs("div",{className:"relative",children:[s.jsx("i",{className:"ri-notification-line text-xl"}),k>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium",children:k>9?"9+":k})]})]}),j&&s.jsxs("div",{className:"absolute right-0 top-full mt-2 w-96 bg-theme-card-bg rounded-lg shadow-lg border border-theme-card-border z-50 glass-dark",children:[s.jsx("div",{className:"p-4 border-b border-theme-border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-theme-text-primary",children:"Notifications"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[k>0&&s.jsx("button",{onClick:()=>{N(e=>e.map(e=>({...e,read:!0})))},className:"text-sm text-blue-600 hover:text-blue-700 cursor-pointer",children:"Mark all read"}),s.jsx("button",{onClick:()=>f(!1),className:"text-theme-text-tertiary hover:text-theme-text-secondary cursor-pointer",children:s.jsx("i",{className:"ri-close-line text-lg"})})]})]})}),s.jsx("div",{className:"max-h-96 overflow-y-auto",children:0===y.length?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-theme-hover-bg rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx("i",{className:"ri-notification-off-line text-theme-text-tertiary text-xl"})}),s.jsx("p",{className:"text-theme-text-tertiary",children:"No notifications yet"})]}):s.jsx("div",{className:"divide-y divide-theme-border",children:y.map(e=>s.jsx("div",{className:"p-4 hover:bg-theme-hover-bg transition-colors "+(e.read?"":"bg-blue-50/50 dark:bg-blue-500/10"),children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${S(e.type)}`,children:s.jsx("i",{className:`${w(e.type)} text-sm`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-sm font-medium "+(e.read?"text-theme-text-secondary":"text-theme-text-primary"),children:e.title}),s.jsx("p",{className:"text-sm text-theme-text-secondary mt-1 line-clamp-2",children:e.message}),s.jsx("p",{className:"text-xs text-theme-text-tertiary mt-2",children:e.time})]}),s.jsxs("div",{className:"flex items-center space-x-1 ml-2",children:[!e.read&&s.jsx("button",{onClick:()=>C(e.id),className:"text-blue-600 hover:text-blue-700 cursor-pointer",title:"Mark as read",children:s.jsx("i",{className:"ri-check-line text-sm"})}),s.jsx("button",{onClick:()=>{return s=e.id,void N(e=>e.filter(e=>e.id!==s));var s},className:"text-theme-text-tertiary hover:text-red-500 cursor-pointer",title:"Delete notification",children:s.jsx("i",{className:"ri-close-line text-sm"})})]})]}),e.actionLabel&&s.jsx("div",{className:"mt-3",children:s.jsx("button",{onClick:()=>{C(e.id),f(!1),console.log("Navigate to:",e.actionUrl)},className:"text-sm bg-blue-100 text-blue-700 px-3 py-1 rounded-full hover:bg-blue-200 transition-colors cursor-pointer",children:e.actionLabel})})]})]})},e.id))})}),y.length>0&&s.jsx("div",{className:"p-3 border-t border-theme-border bg-theme-bg-tertiary",children:s.jsx("button",{onClick:()=>{N([]),f(!1)},className:"w-full text-sm text-theme-text-secondary hover:text-red-600 cursor-pointer",children:"Clear all notifications"})})]})]})]}),h&&s.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 text-green-800 dark:text-green-200 px-4 py-3 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"ri-checkbox-circle-line mr-2"}),h]})}),p&&s.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 text-red-800 dark:text-red-200 px-4 py-3 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"ri-error-warning-line mr-2"}),p]})}),s.jsx("div",{className:"flex space-x-1 bg-theme-hover-bg p-1 rounded-lg w-fit",children:[{key:"profile",label:"Profile",icon:"ri-user-line"},{key:"notifications",label:"Notifications",icon:"ri-notification-line"},{key:"appearance",label:"Appearance",icon:"ri-palette-line"},{key:"privacy",label:"Privacy",icon:"ri-shield-line"},{key:"preferences",label:"Preferences",icon:"ri-settings-line"}].map(e=>s.jsxs("button",{onClick:()=>o(e.key),className:"flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors cursor-pointer whitespace-nowrap "+(d===e.key?"bg-theme-card-bg text-blue-600 shadow-sm":"text-theme-text-secondary hover:text-theme-text-primary"),children:[s.jsx("i",{className:`${e.icon} mr-2`}),e.label]},e.key))}),"profile"===d&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(i,{className:"text-center glass-dark",children:[s.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gradient-to-r from-purple-600 to-orange-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-3xl font-bold text-white",children:(null==e?void 0:e.name)?e.name.charAt(0).toUpperCase():"U"})}),s.jsx("h3",{className:"text-lg font-semibold text-theme-text-primary mb-2",children:(null==e?void 0:e.name)||"User"}),s.jsx("p",{className:"text-theme-text-secondary mb-4",children:"Level 3 Student"}),s.jsxs(l,{variant:"outline",size:"sm",children:[s.jsx("i",{className:"ri-camera-line mr-2"}),"Change Avatar"]})]}),s.jsx("div",{className:"lg:col-span-2",children:s.jsxs(i,{className:"glass-dark",children:[s.jsx("h2",{className:"text-lg font-semibold text-theme-text-primary mb-4",children:"Personal Information"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-theme-text-primary mb-2",children:"First Name"}),s.jsx("input",{type:"text",value:T(),onChange:e=>A("name",e.target.value+" "+P()),className:"form-input w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-theme-text-primary mb-2",children:"Last Name"}),s.jsx("input",{type:"text",value:P(),onChange:e=>A("name",T()+" "+e.target.value),className:"form-input w-full"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-theme-text-primary mb-2",children:"Email"}),s.jsx("input",{type:"email",value:(null==e?void 0:e.email)||"",onChange:e=>A("email",e.target.value),className:"form-input w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-theme-text-primary mb-2",children:"Phone Number"}),s.jsx("input",{type:"tel",placeholder:"+1 (555) 123-4567",className:"form-input w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-theme-text-primary mb-2",children:"Bio"}),s.jsx("textarea",{rows:3,maxLength:500,placeholder:"Tell us about yourself...",className:"form-input w-full resize-none"}),s.jsx("div",{className:"text-xs text-theme-text-tertiary mt-1",children:"0/500 characters"})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx(l,{variant:"outline",children:"Cancel"}),s.jsx(l,{onClick:async()=>{if(e){x(!0),b(""),u("");try{const{error:s}=await a.from("users").update({name:e.name,email:e.email,updated_at:(new Date).toISOString()}).eq("id",e.id);if(s)throw s;u("Profile updated successfully!"),setTimeout(()=>u(""),3e3)}catch(s){b(s instanceof Error?s.message:"Failed to update profile"),setTimeout(()=>b(""),5e3)}finally{x(!1)}}},disabled:m,className:"interactive-element",children:m?s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"ri-loader-4-line animate-spin mr-2"}),"Saving..."]}):"Save Changes"})]})]})]})})]}),"notifications"===d&&s.jsxs(i,{className:"glass-dark",children:[s.jsx("h2",{className:"text-lg font-semibold text-theme-text-primary mb-4",children:"Notification Preferences"}),s.jsx("div",{className:"space-y-6",children:[{key:"emailNotifications",label:"Email Notifications",description:"Receive notifications via email"},{key:"pushNotifications",label:"Push Notifications",description:"Receive push notifications in browser"},{key:"courseUpdates",label:"Course Updates",description:"Get notified about new lessons and course changes"},{key:"assessmentReminders",label:"Assessment Reminders",description:"Reminders for upcoming quizzes and tests"},{key:"achievementAlerts",label:"Achievement Alerts",description:"Notifications when you earn badges or certificates"},{key:"marketingEmails",label:"Marketing Emails",description:"Promotional emails about new courses and features"}].map(e=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-theme-hover-bg rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-theme-text-primary",children:e.label}),s.jsx("p",{className:"text-sm text-theme-text-secondary",children:e.description})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:g[e.key],onChange:s=>{return t=e.key,a=s.target.checked,void v(e=>({...e,[t]:a}));var t,a},className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 dark:bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},e.key))})]}),"appearance"===d&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs(i,{className:"glass-dark",children:[s.jsx("h2",{className:"text-lg font-semibold text-theme-text-primary mb-4",children:"Theme Preferences"}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(n,{className:"w-full",showLabel:!0}),s.jsxs("div",{className:"p-4 bg-theme-hover-bg rounded-lg",children:[s.jsx("h3",{className:"font-medium text-theme-text-primary mb-2",children:"Theme Information"}),s.jsxs("div",{className:"space-y-2 text-sm text-theme-text-secondary",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Light Mode:"})," Clean, bright interface with subtle shadows and gradients"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Dark Mode:"})," Deep gradients with neon accents and glassmorphism effects"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Auto:"})," Follows your system preference"]})]})]})]})]}),s.jsxs(i,{className:"glass-dark",children:[s.jsx("h2",{className:"text-lg font-semibold text-theme-text-primary mb-4",children:"Display Settings"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-theme-text-primary mb-2",children:"Font Size"}),s.jsxs("select",{className:"form-input w-full pr-8",children:[s.jsx("option",{value:"small",children:"Small"}),s.jsx("option",{value:"medium",selected:!0,children:"Medium"}),s.jsx("option",{value:"large",children:"Large"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-theme-text-primary mb-2",children:"Sidebar"}),s.jsxs("select",{className:"form-input w-full pr-8",children:[s.jsx("option",{value:"expanded",selected:!0,children:"Always Expanded"}),s.jsx("option",{value:"collapsed",children:"Always Collapsed"}),s.jsx("option",{value:"auto",children:"Auto (Remember Last State)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-theme-text-primary mb-2",children:"Animation"}),s.jsxs("select",{className:"form-input w-full pr-8",children:[s.jsx("option",{value:"full",selected:!0,children:"Full Animations"}),s.jsx("option",{value:"reduced",children:"Reduced Motion"}),s.jsx("option",{value:"none",children:"No Animations"})]})]})]})]})]}),"privacy"===d&&s.jsxs(i,{className:"glass-dark",children:[s.jsx("h2",{className:"text-lg font-semibold text-theme-text-primary mb-4",children:"Privacy & Security"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"p-4 bg-theme-hover-bg rounded-lg",children:[s.jsx("h3",{className:"font-medium text-theme-text-primary mb-2",children:"Change Password"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("input",{type:"password",placeholder:"Current password",className:"form-input w-full"}),s.jsx("input",{type:"password",placeholder:"New password",className:"form-input w-full"}),s.jsx("input",{type:"password",placeholder:"Confirm new password",className:"form-input w-full"}),s.jsx(l,{size:"sm",children:"Update Password"})]})]}),s.jsxs("div",{className:"p-4 bg-theme-hover-bg rounded-lg",children:[s.jsx("h3",{className:"font-medium text-theme-text-primary mb-2",children:"Two-Factor Authentication"}),s.jsx("p",{className:"text-sm text-theme-text-secondary mb-3",children:"Add an extra layer of security to your account"}),s.jsxs(l,{variant:"outline",size:"sm",children:[s.jsx("i",{className:"ri-shield-check-line mr-2"}),"Enable 2FA"]})]}),s.jsxs("div",{className:"p-4 bg-theme-hover-bg rounded-lg",children:[s.jsx("h3",{className:"font-medium text-theme-text-primary mb-2",children:"Data Privacy"}),s.jsx("p",{className:"text-sm text-theme-text-secondary mb-3",children:"Control how your data is used and shared"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(l,{variant:"outline",size:"sm",className:"mr-2",children:[s.jsx("i",{className:"ri-download-line mr-2"}),"Download My Data"]}),s.jsxs(l,{variant:"outline",size:"sm",className:"text-red-600 border-red-300 hover:bg-red-50 dark:hover:bg-red-900/20",children:[s.jsx("i",{className:"ri-delete-bin-line mr-2"}),"Delete Account"]})]})]})]})]}),"preferences"===d&&s.jsxs(i,{className:"glass-dark",children:[s.jsx("h2",{className:"text-lg font-semibold text-theme-text-primary mb-4",children:"Learning Preferences"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-theme-text-primary mb-2",children:"Preferred Language"}),s.jsxs("select",{className:"form-input w-full pr-8",children:[s.jsx("option",{value:"en",children:"English"}),s.jsx("option",{value:"es",children:"Spanish"}),s.jsx("option",{value:"fr",children:"French"}),s.jsx("option",{value:"de",children:"German"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-theme-text-primary mb-2",children:"Time Zone"}),s.jsxs("select",{className:"form-input w-full pr-8",children:[s.jsx("option",{value:"PST",children:"Pacific Standard Time (PST)"}),s.jsx("option",{value:"MST",children:"Mountain Standard Time (MST)"}),s.jsx("option",{value:"CST",children:"Central Standard Time (CST)"}),s.jsx("option",{value:"EST",children:"Eastern Standard Time (EST)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-theme-text-primary mb-2",children:"Learning Goal"}),s.jsxs("select",{className:"form-input w-full pr-8",children:[s.jsx("option",{value:"career",children:"Career Change"}),s.jsx("option",{value:"skill",children:"Skill Enhancement"}),s.jsx("option",{value:"hobby",children:"Personal Interest"}),s.jsx("option",{value:"academic",children:"Academic Requirement"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-theme-text-primary mb-2",children:"Daily Study Time Goal"}),s.jsxs("select",{className:"form-input w-full pr-8",children:[s.jsx("option",{value:"30",children:"30 minutes"}),s.jsx("option",{value:"60",children:"1 hour"}),s.jsx("option",{value:"120",children:"2 hours"}),s.jsx("option",{value:"180",children:"3+ hours"})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(l,{children:"Save Preferences"})})]})]}),j&&s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>f(!1)})]})})};export{c as default};
