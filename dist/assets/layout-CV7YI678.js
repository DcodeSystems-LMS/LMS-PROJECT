import{j as e}from"./index-tBdcIxzk.js";import{r as s}from"./vendor-D_DxLZN2.js";import{d as a,N as i,L as t,O as r}from"./router-BPhEMSNK.js";import{authService as n}from"./auth-CFgD0Kdo.js";import{u as l,T as d,M as o,N as c,P as m}from"./useSidebar-1GEKfE2y.js";import"./supabase-BMSNwJ-5.js";import"./supabase-DCVaQTjR.js";import"./Card-CCr5q94u.js";const x=[{name:"Dashboard",href:"/admin/dashboard",icon:"ri-dashboard-line"},{name:"Students",href:"/admin/students",icon:"ri-group-line"},{name:"Mentors",href:"/admin/mentors",icon:"ri-user-star-line"},{name:"Courses",href:"/admin/courses",icon:"ri-book-line"},{name:"Assessments",href:"/admin/assessments",icon:"ri-file-list-line"},{name:"Placements",href:"/admin/placements",icon:"ri-briefcase-line"},{name:"Payments",href:"/admin/payments",icon:"ri-money-dollar-circle-line"},{name:"Analytics",href:"/admin/analytics",icon:"ri-bar-chart-line"},{name:"Integrations",href:"/admin/integrations",icon:"ri-plug-line"},{name:"Settings",href:"/admin/settings",icon:"ri-settings-line"}];function h(){var h,f;const[g,p]=s.useState(!1),[u,j]=s.useState(null),[b,y]=s.useState(!0),N=a(),{isCollapsed:v,toggleSidebar:w}=l("admin-sidebar-collapsed");return s.useEffect(()=>{(async()=>{try{const e=await n.getCurrentUser();if("admin"!==(null==e?void 0:e.role))throw new Error("Unauthorized");j(e)}catch(e){console.error("Auth check failed:",e)}finally{y(!1)}})()},[]),b?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("i",{className:"ri-loader-4-line text-4xl text-brand-primary animate-spin mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):u?e.jsxs("div",{className:"min-h-screen bg-gray-50 overflow-x-hidden",children:[e.jsx("div",{className:"hidden lg:fixed lg:top-16 lg:bottom-0 lg:flex lg:flex-col transition-all duration-300 ease-in-out "+(v?"lg:w-16":"lg:w-64"),children:e.jsxs("div",{className:"flex flex-col flex-grow pt-5 bg-white border-r border-gray-200 shadow-sm overflow-hidden overflow-x-hidden",children:[e.jsx("div",{className:"px-3 mb-2 "+(v?"px-2":""),children:e.jsx("button",{onClick:w,className:"w-full flex items-center justify-center p-2 text-gray-600 hover:text-brand-primary hover:bg-gray-100 rounded-lg transition-all duration-200",children:e.jsx("i",{className:`ri-${v?"menu-unfold":"menu-fold"}-line text-lg flex justify-center items-center`})})}),e.jsx("nav",{className:"mt-5 flex-1 flex flex-col divide-y divide-gray-100 overflow-y-auto scrollbar-hide",children:e.jsx("div",{className:"px-3 space-y-1 "+(v?"px-2":""),children:x.map(s=>{const a=N.pathname===s.href,i=e.jsxs(t,{to:s.href,className:`dashboard-nav-item flex items-center w-full px-3 py-2 text-sm font-medium rounded-lg transition-all duration-200 ${a?"bg-gradient-to-r from-purple-600 to-orange-500 text-white shadow-md":"text-gray-700 hover:bg-gray-100 hover:text-brand-primary"} ${v?"justify-center px-2":""}`,children:[e.jsx("i",{className:`${s.icon} text-lg flex-shrink-0 ${v?"flex justify-center items-center":"mr-3"}`}),e.jsx("span",{className:"truncate transition-all duration-300 "+(v?"opacity-0 w-0 overflow-hidden":"opacity-100"),children:s.name})]},s.name);return v?e.jsx("div",{className:"relative block",children:e.jsx(d,{content:s.name,position:"right",children:i})},s.name):e.jsx("div",{className:"relative block",children:i},s.name)})})}),e.jsx("div",{className:"flex-shrink-0 p-4 border-t border-gray-200 "+(v?"px-2":""),children:e.jsxs("div",{className:"flex items-center "+(v?"justify-center":""),children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"rounded-full bg-gradient-to-r from-purple-600 to-orange-500 flex items-center justify-center text-white font-semibold transition-all duration-300 "+(v?"w-8 h-8 text-xs":"w-10 h-10 text-sm"),children:null==(h=u.name)?void 0:h.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)})}),e.jsxs("div",{className:"ml-3 flex-1 min-w-0 transition-all duration-300 "+(v?"opacity-0 w-0 overflow-hidden ml-0":"opacity-100"),children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:u.name}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:"Administrator"})]})]})})]})}),e.jsx(o,{isOpen:g,onClose:()=>p(!1),title:"Navigation",children:e.jsxs("div",{className:"px-4 py-6",children:[e.jsx("div",{className:"mb-8",children:e.jsx(t,{to:"/",className:"flex items-center justify-center",children:e.jsx("img",{src:"https://static.readdy.ai/image/9a8f01f834659f0ab66072bb9b6ee657/94d4f47a77f88d2925bb5eae1005561d.png",alt:"DCODE Systems",className:"h-10 w-auto"})})}),e.jsx("nav",{className:"space-y-2",children:x.map(s=>{const a=N.pathname===s.href;return e.jsxs(t,{to:s.href,onClick:()=>p(!1),className:"flex items-center px-3 py-3 text-sm font-medium rounded-lg transition-all duration-200 "+(a?"bg-gradient-to-r from-purple-600 to-orange-500 text-white shadow-md":"text-gray-700 hover:bg-gray-100 hover:text-brand-primary"),children:[e.jsx("i",{className:`${s.icon} mr-3 text-lg flex-shrink-0`}),e.jsx("span",{children:s.name})]},s.name)})}),e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-purple-600 to-orange-500 flex items-center justify-center text-white font-semibold",children:null==(f=u.name)?void 0:f.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-base font-medium text-gray-900",children:u.name}),e.jsx("p",{className:"text-sm text-gray-500",children:"Administrator"})]})]})})]})}),e.jsxs("div",{className:"lg:flex lg:flex-col lg:flex-1 transition-all duration-300 overflow-x-hidden "+(v?"lg:pl-16":"lg:pl-64"),children:[e.jsxs("div",{className:"fixed top-0 left-0 right-0 z-40 flex h-16 flex-shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white/95 backdrop-blur-sm px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:pl-24 lg:pr-8",children:[e.jsxs("button",{type:"button",className:"p-2.5 text-gray-700 lg:hidden hover:bg-gray-100 rounded-lg transition-colors duration-200",onClick:()=>p(!0),children:[e.jsx("span",{className:"sr-only",children:"Open sidebar"}),e.jsx("i",{className:"ri-menu-line text-xl"})]}),e.jsx("div",{className:"flex-1 flex justify-center lg:hidden",children:e.jsx(t,{to:"/",className:"flex items-center",children:e.jsx("img",{src:"https://static.readdy.ai/image/9a8f01f834659f0ab66072bb9b6ee657/94d4f47a77f88d2925bb5eae1005561d.png",alt:"DCODE Systems",className:"h-8 w-auto"})})}),e.jsx("div",{className:"h-6 w-px bg-gray-200 lg:hidden","aria-hidden":"true"}),e.jsx("div",{className:"hidden lg:flex items-center absolute left-0 top-0 h-16 px-4 z-50",children:e.jsx(t,{to:"/",className:"flex items-center",children:e.jsx("img",{src:"https://static.readdy.ai/image/9a8f01f834659f0ab66072bb9b6ee657/94d4f47a77f88d2925bb5eae1005561d.png",alt:"DCODE Systems",className:"h-10 w-auto"})})}),e.jsxs("div",{className:"hidden lg:flex flex-1 gap-x-4 self-stretch lg:gap-x-6",children:[e.jsx("div",{className:"flex flex-1"}),e.jsxs("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:[e.jsx(c,{children:e.jsxs("button",{type:"button",className:"-m-2.5 p-2.5 text-gray-400 hover:text-gray-500 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:[e.jsx("span",{className:"sr-only",children:"View notifications"}),e.jsx("i",{className:"ri-notification-line text-xl"})]})}),e.jsx("div",{className:"hidden lg:block lg:h-6 lg:w-px lg:bg-gray-200","aria-hidden":"true"}),e.jsx(m,{user:u})]})]}),e.jsx("div",{className:"lg:hidden",children:e.jsx(m,{user:u})})]}),e.jsx("main",{className:"flex-1 pt-16",children:e.jsx(r,{})})]})]}):e.jsx(i,{to:"/auth/signin",replace:!0})}export{h as default};
