var o=Object.defineProperty,r=(r,e,s)=>((r,e,s)=>e in r?o(r,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[e]=s)(r,"symbol"!=typeof e?e+"":e,s);const e=new class{constructor(){r(this,"storageKey","studentBookmarks")}getBookmarks(){try{const o=localStorage.getItem(this.storageKey);return o?JSON.parse(o):[]}catch(o){return console.error("Error loading bookmarks:",o),[]}}saveBookmarks(o){try{localStorage.setItem(this.storageKey,JSON.stringify(o))}catch(r){console.error("Error saving bookmarks:",r)}}addBookmark(o){const r=this.getBookmarks(),e=r.find(r=>r.courseId===o.courseId&&r.lessonId===o.lessonId);if(e)return e;const s={...o,id:`bookmark-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,bookmarkedAt:(new Date).toISOString()},t=[...r,s];return this.saveBookmarks(t),s}removeBookmark(o){const r=this.getBookmarks(),e=r.filter(r=>r.id!==o);return e.length!==r.length&&(this.saveBookmarks(e),!0)}removeBookmarkByLesson(o,r){const e=this.getBookmarks(),s=e.filter(e=>!(e.courseId===o&&e.lessonId===r));return s.length!==e.length&&(this.saveBookmarks(s),!0)}isBookmarked(o,r){return this.getBookmarks().some(e=>e.courseId===o&&e.lessonId===r)}getBookmarkByLesson(o,r){return this.getBookmarks().find(e=>e.courseId===o&&e.lessonId===r)||null}updateBookmarkProgress(o,r){const e=this.getBookmarks(),s=e.findIndex(r=>r.id===o);return-1!==s&&(e[s].progress=r,this.saveBookmarks(e),!0)}clearAllBookmarks(){this.saveBookmarks([])}};export{e as b};
